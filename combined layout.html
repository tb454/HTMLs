<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bridge POC</title>
  <!-- Bootstrap CSS (CDN) -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  />

  <!-- Optional: You can add extra custom CSS here -->
  <style>
    body {
      background-color: #f8f9fa;
    }
    header.navbar {
      margin-bottom: 1rem;
    }
    .chart-container {
      position: relative;
      height: 400px; /* Adjust as needed */
    }
    .inventory-table th,
    .inventory-table td {
      vertical-align: middle;
    }
    .footer {
      margin-top: 2rem;
      padding: 1rem;
      background: #e9ecef;
      text-align: center;
    }
  </style>
</head>

<body>
  <!-- Top Navbar (You can style or rename as needed) -->
  <header class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Bridge POC</a>
      <span class="navbar-text">Mock Trading & Inventory Dashboard</span>
    </div>
  </header>

  <div class="container-fluid">
    <!-- Main Content Row: Left side for Chart, Right side for Inventory (example layout) -->
    <div class="row">
      <!-- Chart Column -->
      <div class="col-md-8 mb-3">
        <div class="card">
          <div class="card-header">
            <h5 class="card-title mb-0">Futures/Trading Graph</h5>
          </div>
          <div class="card-body chart-container">
            <canvas id="myChart"></canvas>
          </div>
        </div>
      </div>

      <!-- Inventory Table Column -->
      <div class="col-md-4 mb-3">
        <div class="card">
          <div class="card-header">
            <h5 class="card-title mb-0">Current Inventory</h5>
          </div>
          <div class="card-body p-0">
            <table class="table table-striped mb-0 inventory-table">
              <thead class="table-dark">
                <tr>
                  <th scope="col">Commodity</th>
                  <th scope="col">Total Lbs</th>
                  <th scope="col">Avg Cost</th>
                  <th scope="col">Value</th>
                </tr>
              </thead>
              <tbody id="inventoryBody">
                <!-- Populated by JS -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div> <!-- row end -->
  </div> <!-- container-fluid end -->

  <!-- Footer (Optional) -->
  <div class="footer">
    <small>Data may be delayed or historical. For POC purposes only.</small>
  </div>

  <!-- Bootstrap & Chart.js Scripts (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>

  <!-- Your Custom JS: Mock Data & Setup -->
  <script>
    /********************************************************
     * MOCK DATA (Replace with your own static/historical data)
     ********************************************************/

    // Example: Some backdated "prices" for a commodity/future
    const mockFuturesData = [
      { date: '2025-02-14', price: 100 },
      { date: '2025-02-15', price: 102 },
      { date: '2025-02-16', price: 101 },
      { date: '2025-02-17', price: 104 },
      { date: '2025-02-18', price: 105 },
      { date: '2025-02-19', price: 103 },
      { date: '2025-02-20', price: 106 },
    ];

    // Example: Inventory data
    const mockInventoryData = [
      {
        commodity: 'Aluminum',
        total: '9,485 lbs',
        avgCost: '$0.886/lb',
        value: '$4,433'
      },
      {
        commodity: 'Electric Motors',
        total: '4,428 lbs',
        avgCost: '$0.298/lb',
        value: '$1,283'
      },
      {
        commodity: 'Insulated Copper Wire',
        total: '63,858 lbs',
        avgCost: '$1.18/lb',
        value: '$75,453'
      },
      {
        commodity: 'Lead',
        total: '4,124 lbs',
        avgCost: '$0.165/lb',
        value: '$686'
      }
      // Add more rows as needed
    ];

    /********************************************************
     * POPULATE INVENTORY TABLE
     ********************************************************/
    function renderInventoryTable() {
      const tableBody = document.getElementById('inventoryBody');
      tableBody.innerHTML = ''; // Clear existing rows if any

      mockInventoryData.forEach(item => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${item.commodity}</td>
          <td>${item.total}</td>
          <td>${item.avgCost}</td>
          <td>${item.value}</td>
        `;
        tableBody.appendChild(row);
      });
    }

    /********************************************************
     * CREATE CHART
     ********************************************************/
    function renderChart() {
      const ctx = document.getElementById('myChart').getContext('2d');
      const labels = mockFuturesData.map(point => point.date);
      const data = mockFuturesData.map(point => point.price);

      new Chart(ctx, {
        type: 'line', // You can use 'candlestick', 'bar', etc. if you prefer
        data: {
          labels: labels,
          datasets: [
            {
              label: 'Sample Future Price',
              data: data,
              borderColor: 'rgba(75, 192, 192, 1)',
              backgroundColor: 'rgba(75, 192, 192, 0.2)',
              fill: true,
              tension: 0.1
            }
          ]
        },
        options: {
          responsive: true,
          scales: {
            x: {
              ticks: {
                autoSkip: false
              }
            },
            y: {
              beginAtZero: false
            }
          }
        }
      });
    }

    /********************************************************
     * ON PAGE LOAD
     ********************************************************/
    window.addEventListener('DOMContentLoaded', () => {
      renderInventoryTable();
      renderChart();
    });
  </script>
</body>
</html>
