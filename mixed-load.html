<div style="font-family: Arial, sans-serif; max-width: 900px; margin: auto; padding: 24px; background-color: #fdfdfd; border: 1px solid #ccc; border-radius: 10px; line-height: 1.6;">
    <h2 style="text-align:center; color: #003366;">BRidge Mixed-Material Futures Contract</h2>
    <hr>
  
    <h3>Material Composition (Editable)</h3>
    <table id="materialTable" style="width: 100%; border-collapse: collapse; margin-top: 12px;">
      <thead>
        <tr style="background-color: #e0e0e0;">
          <th style="padding: 8px; border: 1px solid #bbb;">Material</th>
          <th style="padding: 8px; border: 1px solid #bbb;">% of Load</th>
          <th style="padding: 8px; border: 1px solid #bbb;">Recovered Weight (lbs)</th>
          <th style="padding: 8px; border: 1px solid #bbb;">Market Price/lb ($)</th>
          <th style="padding: 8px; border: 1px solid #bbb;">Total Value ($)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Aluminum</td>
          <td><input type="number" value="40" onchange="recalculate()" /></td>
          <td><input type="number" value="4000" onchange="recalculate()" /></td>
          <td><input type="number" step="0.01" value="1.05" onchange="recalculate()" /></td>
          <td class="totalValue">$4,200.00</td>
        </tr>
        <tr>
          <td>Rubber</td>
          <td><input type="number" value="60" onchange="recalculate()" /></td>
          <td><input type="number" value="6000" onchange="recalculate()" /></td>
          <td><input type="number" step="0.01" value="0.35" onchange="recalculate()" /></td>
          <td class="totalValue">$2,100.00</td>
        </tr>
      </tbody>
    </table>
  
    <br>
    <h3>Contract Valuation</h3>
    <p><strong>Raw Total Value:</strong> $<span id="rawValue">6300.00</span></p>
    <p><strong>After Yard Margin (5%):</strong> $<span id="afterMargin">5985.00</span></p>
    <p><strong>+ Contract Fee:</strong> $50.00</p>
    <p style="font-weight: bold; color: #004085;">â†’ Final Contract Value: $<span id="finalValue">6035.00</span></p>
  </div>
  
  <script>
  function recalculate() {
    const rows = document.querySelectorAll("#materialTable tbody tr");
    let rawTotal = 0;
  
    rows.forEach(row => {
      const weight = parseFloat(row.cells[2].querySelector("input").value) || 0;
      const price = parseFloat(row.cells[3].querySelector("input").value) || 0;
      const total = weight * price;
      row.querySelector(".totalValue").textContent = `$${total.toFixed(2)}`;
      rawTotal += total;
    });
  
    const margin = 0.05;
    const afterMargin = rawTotal * (1 - margin);
    const contractFee = 50;
    const finalValue = afterMargin + contractFee;
  
    document.getElementById("rawValue").textContent = rawTotal.toFixed(2);
    document.getElementById("afterMargin").textContent = afterMargin.toFixed(2);
    document.getElementById("finalValue").textContent = finalValue.toFixed(2);
  }
  </script>

